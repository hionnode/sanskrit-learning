---
import type { Lesson } from '../../lib/content-helpers';

interface Props {
  title: string;
  lessons: Lesson[];
}

const { title, lessons } = Astro.props;
---
<details class="group" open>
  <summary class="flex items-center justify-between cursor-pointer py-2 px-3 rounded-lg hover:bg-surface-bark/50 dark:hover:bg-charcoal-800 transition-colors min-h-[44px]">
    <span class="font-medium text-ink dark:text-stone-200">{title}</span>
    <svg
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      width="16" height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="text-stone-400 transition-transform group-open:rotate-180"
    >
      <polyline points="6 9 12 15 18 9" />
    </svg>
  </summary>
  <ul class="mt-2 ml-4 space-y-1">
    {lessons.map((lesson) => (
      <li>
        <a
          href={`/hi/learn/${lesson.id}`}
          class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-stone-600 dark:text-stone-400 hover:bg-surface-bark/50 dark:hover:bg-charcoal-800 hover:text-vermillion dark:hover:text-vermillion-light transition-colors min-h-[44px]"
        >
          <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full bg-surface-bark dark:bg-charcoal-700 text-xs font-medium text-vermillion dark:text-vermillion-light">
            {lesson.data.sort_order}
          </span>
          <span>{lesson.data.title_hi}</span>
          <span class="ml-auto text-xs text-stone-400">{lesson.data.estimated_minutes} рдорд┐.</span>
        </a>
      </li>
    ))}
  </ul>
</details>
